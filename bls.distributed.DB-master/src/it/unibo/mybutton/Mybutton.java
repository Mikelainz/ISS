/* Generated by AN DISI Unibo */ 
/*
This code is generated only ONCE
*/
package it.unibo.mybutton;
import java.awt.Button;

import it.unibo.mybutton.ButtonListener;
//import it.unibo.bls.raspberry.components.adhoc.DeviceButtonPi4JAdHoc;
import it.unibo.is.interfaces.IOutputEnvView;
import it.unibo.qactors.QActorContext;
public class Mybutton extends AbstractMybutton{ 
	
	private static final int BLINKINTERVAL = 1000;
	private ButtonListener btnListener ;  
	private Button btnGui ;
	
	
	public Mybutton(String actorId, QActorContext myCtx, IOutputEnvView outEnvView )  throws Exception{
		super(actorId, myCtx, outEnvView);
	}
	
	public void createGuiButton(int pinNum, String command){
		btnGui      = new Button(command);
		btnGui.setActionCommand(command);
		btnListener = new ButtonListener(this);
		btnGui.addActionListener( btnListener );
		outEnvView.getEnv().addPanel(btnGui);
	}
	
	/*
	public void createPi4jButton(int pinNum){
		try {
			DeviceButtonPi4JAdHoc buttonPi4j  = new DeviceButtonPi4JAdHoc(  outEnvView , pinNum);
			buttonPi4j.addObserver(this);
		} catch (Exception e) {
 			e.printStackTrace();
		}
	}
	*/
		
	public void controlLogic(String cmd){
		try {
			if (cmd.equalsIgnoreCase("start")){
				emit("buttonEvent","startBlinkLed(" + BLINKINTERVAL + ")");
			}
			else if (cmd.equalsIgnoreCase("stop")){
				emit("buttonEvent","stopBlinkLed");
			}
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}		
	}
}
