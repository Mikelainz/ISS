/* Generated by AN DISI Unibo */ 
/*
This code is generated only ONCE
*/
package it.unibo.mycontrol;
import java.util.Random;

import it.unibo.is.interfaces.IOutputEnvView;
import it.unibo.qactors.QActorContext;

public class Mycontrol extends AbstractMycontrol {
	
	private long score;
	private long startTime;
	private long DTthreshold;
	
	public Mycontrol(String actorId, QActorContext myCtx, IOutputEnvView outEnvView )  throws Exception{
		super(actorId, myCtx, outEnvView);
		this.DTthreshold=10000;
	}
	
	public void saveStartTime(){
		startTime = System.currentTimeMillis();
	}
	
	public long updateScore(){
		score += 5000 - (System.currentTimeMillis() - startTime);
		return score;
	}
	
	public long printScore(){
		System.out.println(score);
		return score;
	}
	
	public void resetScore(){
		score = 0;
	}
	
	public long getRandomDTstop(){
		return new (Random().nextInt(5)+1)*1000;
	}
	
	public long halveDTthreshold() {
		this.DTthreshold = this.DTthreshold / 2;
		return this.DTthreshold;			
	}
}
